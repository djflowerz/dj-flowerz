<app-main-navbar [navTag]="navTag" (navMessageEvent)="receiveNavMessage($event)"></app-main-navbar>
<div class="container-fluid">
  <!--  <p >Properties</p>-->
  <button style=" margin-bottom: 10px; margin-top: 80px" type="button" class="btn btn-primary"
          (click)="open2(content, 'lg')">Add Product
  </button>
  <button style=" margin-bottom: 10px; margin-top: 80px; margin-left: 10px" type="button" class="btn btn-danger"
          (click)="openCsv(contentCsv, 'lg')">Upload CSV
  </button>
  <!--  <button style=" margin-bottom: 10px;  " type="button" class="btn btn-primary" (click)="createListing()">Add Property</button>-->
  <div class="row justify-content-center justify-content-lg-between flex-lg-row-reverse"
       style="padding: 10px; margin-top: 0px">
    <div class="col"
         style="background-color: #fff; border: 1px solid #ccc; box-shadow: 0 3px 10px rgb(0 0 0 / 0.2);padding-bottom: 4px;padding-top: 18px; border-radius: 7px; margin: 5px">
      <table #dtListing id="dtListing" class="display datatable nowrap" style="width: 100%">
      </table>
    </div>
  </div>
</div>

<ng-template #content let-modal>
  <div class="modal-header">
    <h4 class="modal-title" id="modal-basic-titlee">List Product</h4>
    <button type="button" class="btn-close" aria-label="Close" (click)="modal.dismiss('Cross click')"></button>
  </div>
  <div class="modal-body">
    <form #listForm="ngForm">
      <div class="row">
        <div class="col-md-6 col-lg-6 col-xl-6">
          <div class="form-floating mb-3">
            <input name="name" type="text" class="form-control" id="name"
                   #name="ngModel"
                   [class.is-invalid]="name.invalid && name.touched" ngModel required>
            <label for="name" style="font-size: 14px; ">Enter product name</label>
          </div>
        </div>
        <div class="col-md-6 col-lg-6 col-xl-6">
          <div class="form-floating mb-3">
            <select name="category" class="form-select" id="category"
                    aria-label="Floating label select example" #category="ngModel"
                    [class.is-invalid]="category.invalid && category.touched" ngModel
                    required (change)="onCategoryChange($event)">

              <option *ngFor="let item of categories" value="{{item.name}}">{{ item.name }}</option>
            </select>
            <label for="category" style="font-size: 14px; ">Enter product category</label>
          </div>
        </div>
        <div class="col-md-6 col-lg-6 col-xl-6">
          <div class="form-floating mb-3">
            <!--<select name="subcategory" class="form-select" id="subcategory"
                    aria-label="Floating label select example" #subcategory="ngModel"
                    [class.is-invalid]="subcategory.invalid && subcategory.touched" ngModel
                    required>
              <option *ngFor="let item of subcategories" value="{{item.name}}">{{ item.name }}</option>
            </select>-->
            <select name="subcategory"
                    class="form-select"
                    id="subcategory"
                    [(ngModel)]="selectedSubcategory"
                    #subcategory="ngModel"
                    [class.is-invalid]="subcategory.invalid && subcategory.touched"
                    required>
              <option *ngFor="let item of subcategories" [value]="item.name">{{ item.name }}</option>
            </select>
            <label for="subcategory" style="font-size: 14px;  ">Enter product subcategory</label>
          </div>
        </div>
        <div class="col-md-6 col-lg-6 col-xl-6">
          <div class="form-floating mb-3">
            <select name="color" class="form-select" id="color"
                    aria-label="Floating label select example" #color="ngModel"
                    [class.is-invalid]="color.invalid && color.touched" ngModel
                    required>
              <option value="Red">Red</option>
              <option value="Blue">Blue</option>
              <option value="Green">Green</option>
              <option value="Yellow">Yellow</option>
              <option value="White">White</option>
              <option value="Grey">Grey</option>
              <option value="Black">Black</option>
              <option value="Mixed">Mixed</option>
              <option value="N/A">N/A</option>
            </select>
            <label for="color" style="font-size: 14px; ">Enter product colour</label>
          </div>
        </div>
        <div class="col-md-6 col-lg-6 col-xl-6">
          <div class="form-floating mb-3">
            <select name="brand" class="form-select" id="brand"
                    aria-label="Floating label select example" #brand="ngModel" ngModel
                    >
              <option value="Hp">Hp</option>
              <option value="Lenovo">Lenovo</option>
              <option value="Mac">Mac</option>
              <option value="N/A">N/A</option>
            </select>
            <label for="color" style="font-size: 14px; ">Enter product brand</label>
          </div>
        </div>

        <div class="col-md-6 col-lg-6 col-xl-6">
          <div class="form-floating mb-3">
            <input name="memory" type="text" class="form-control" id="memory"
                   #memory="ngModel" ngModel>
            <label for="name" style="font-size: 14px; ">Enter product memory</label>
          </div>
        </div>
        <div class="col-md-6 col-lg-6 col-xl-6">
          <div class="form-floating mb-3">
            <input name="storage" type="text" class="form-control" id="storage"
                   #storage="ngModel" ngModel>
            <label for="name" style="font-size: 14px; ">Enter product storage</label>
          </div>
        </div>
        <div class="col-md-6 col-lg-6 col-xl-6">
          <div class="form-floating mb-3">
            <input name="quantity" type="number" class="form-control" id="quantity"
                   #quantity="ngModel"
                   [class.is-invalid]="quantity.invalid && quantity.touched" ngModel required>
            <label for="quantity" style="font-size: 14px; ">Enter product quantity</label>
          </div>
        </div>
        <div class="col-md-6 col-lg-6 col-xl-6">
          <div class="form-floating mb-3">
            <input name="cost" type="number" class="form-control" id="cost"
                   #cost="ngModel"
                   [class.is-invalid]="cost.invalid && cost.touched" ngModel required>
            <label for="name" style="font-size: 14px; ">Enter product cost</label>
          </div>
        </div>
        <div class="col-md-6 col-lg-6 col-xl-6">
          <div class="form-floating mb-3">
            <select name="condition" class="form-select" id="condition"
                    aria-label="Floating label select example" #condition="ngModel"
                    [class.is-invalid]="condition.invalid && condition.touched" ngModel
                    required>
              <option value="New">New</option>
              <option value="Refurbished">Refurbished</option>
            </select>
            <label for="color" style="font-size: 14px; ">Enter product condition</label>
          </div>
        </div>
        <div class="col-md-12 col-lg-12 col-xl-12">
            <textarea style="font-size: 12px; min-height: 90px;max-height: 90px" name="description" class="form-control"
                      #description="ngModel"
                      id="description" rows="5" ngModel
                      [class.is-invalid]="description.invalid && description.touched" placeholder="Description"
                      required></textarea>
        </div>
        <div class="col-md-12 col-lg-12 col-xl-12" style="margin-top:10px">
          <textarea style="font-size: 12px; min-height: 90px;max-height: 90px" name="about" class="form-control"
                    #about="ngModel"
                    id="about" rows="4" ngModel
                    [class.is-invalid]="about.invalid && about.touched" placeholder="About this item"
                    required></textarea>
        </div>
      </div>

      <!--<div class="input-group">
        <div class="form-floating mb-3">
          <input name="description" type="text" class="form-control" id="description"
                 #description="ngModel"
                 [class.is-invalid]="description.invalid && description.touched" ngModel required>
          <label for="quantity" style="font-size: 14px; ">Enter product description</label>
        </div>
      </div>-->
    </form>
  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-primary" [disabled]="listForm.form.invalid" (click)="list(listForm)">Continue
    </button>
  </div>
</ng-template>

<ng-template #contentCsv let-modal>
  <div class="modal-header">
    <h4 class="modal-title" id="modal-basic-titlee">Upload CSV</h4>
    <button type="button" class="btn-close" aria-label="Close" (click)="modal.dismiss('Cross click')"></button>
  </div>
  <div class="modal-body">
    <form #listForm="ngForm">
      <div class="row">
        <input type="file" (change)="onFileSelectedCsv($event)" accept=".csv" />
      </div>
    </form>
  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-primary" (click)="uploadCsv()">Continue
    </button>
  </div>
</ng-template>
<ng-template #contentEdit let-modal>
  <div class="modal-header">
    <h4 class="modal-title" id="modal-basic-titlee">Edit Product</h4>
    <button type="button" class="btn-close" aria-label="Close" (click)="modal.dismiss('Cross click')"></button>
  </div>
  <div class="modal-body">
    <form #listEditForm="ngForm">
      <div class="row">
        <div class="col-md-6 col-lg-6 col-xl-6">
          <div class="form-floating mb-3">
            <input name="name" type="text" class="form-control" id="name"
                   #name="ngModel"
                   [(ngModel)]="product['name']"
                   [class.is-invalid]="name.invalid && name.touched" ngModel required>
            <label for="name" style="font-size: 14px; ">Enter product name</label>
          </div>
        </div>
        <div class="col-md-6 col-lg-6 col-xl-6">
          <div class="form-floating mb-3">
            <select name="category" class="form-select" id="category"
                    aria-label="Floating label select example" #category="ngModel"
                    [class.is-invalid]="category.invalid && category.touched" ngModel
                    [(ngModel)]="product['category']" required (change)="onCategoryChange($event)">
              <option *ngFor="let item of categories" value="{{item.name}}">{{ item.name }}</option>
            </select>
            <label for="category" style="font-size: 14px; ">Enter product category</label>
          </div>
        </div>
        <div class="col-md-6 col-lg-6 col-xl-6">
          <div class="form-floating mb-3">
            <select name="subcategory" class="form-select" id="subcategory"
                    aria-label="Floating label select example" #subcategory="ngModel"
                    [class.is-invalid]="subcategory.invalid && subcategory.touched" ngModel
                    [(ngModel)]="product['subcategory']" required>
              <option *ngFor="let item of subcategories" value="{{item.name}}">{{ item.name }}</option>
            </select>
            <label for="subcategory" style="font-size: 14px;  ">Enter product sub category</label>
          </div>
        </div>
        <div class="col-md-6 col-lg-6 col-xl-6">
          <div class="form-floating mb-3">
            <select name="color" class="form-select" id="color"
                    aria-label="Floating label select example" #color="ngModel"
                    [class.is-invalid]="color.invalid && color.touched" ngModel
                    [(ngModel)]="product['color']" required>
              <option value="Red">Red</option>
              <option value="Blue">Blue</option>
              <option value="Green">Green</option>
              <option value="Yellow">Yellow</option>
              <option value="White">White</option>
              <option value="Grey">Grey</option>
              <option value="Black">Black</option>
              <option value="Mixed">Mixed</option>
              <option value="N/A">N/A</option>
            </select>
            <label for="name" style="font-size: 14px; ">Enter product colour</label>
          </div>
        </div>
        <div class="col-md-6 col-lg-6 col-xl-6">
          <div class="form-floating mb-3">
            <select name="brand" class="form-select" id="brand"
                    aria-label="Floating label select example" #brand="ngModel"
                    [class.is-invalid]="brand.invalid && brand.touched" ngModel
                    [(ngModel)]="product['brand']" required>
              <option value="Hp">Hp</option>
              <option value="Lenovo">Lenovo</option>
              <option value="Mac">Mac</option>
              <option value="N/A">N/A</option>
            </select>
            <label for="name" style="font-size: 14px; ">Enter product brand</label>
          </div>
        </div>
        <div class="col-md-6 col-lg-6 col-xl-6">
          <div class="form-floating mb-3">
            <input name="cost" type="number" class="form-control" id="cost"
                   #cost="ngModel"
                   [(ngModel)]="product['cost']"
                   [class.is-invalid]="cost.invalid && cost.touched" ngModel required>
            <label for="name" style="font-size: 14px; ">Enter product cost</label>
          </div>
        </div>
        <div class="col-md-6 col-lg-6 col-xl-6">
          <div class="form-floating mb-3">
            <input name="discount" type="number" class="form-control" id="discount"
                   #discount="ngModel"
                   [(ngModel)]="product['discount']"
                   [class.is-invalid]="discount.invalid && discount.touched" ngModel required>
            <label for="name" style="font-size: 14px; ">Enter discount</label>
          </div>
        </div>
        <div class="col-md-6 col-lg-6 col-xl-6">
          <div class="form-floating mb-3">
            <input name="quantity" type="number" class="form-control" id="quantity"
                   #quantity="ngModel"
                   [(ngModel)]="product['quantity']"
                   [class.is-invalid]="quantity.invalid && quantity.touched" ngModel required>
            <label for="quantity" style="font-size: 14px; ">Enter product quantity</label>
          </div>
        </div>
        <div class="col-md-6 col-lg-6 col-xl-6">
          <div class="form-floating mb-3">
            <input name="rating" type="number" class="form-control" id="rating"
                   #rating="ngModel"
                   [(ngModel)]="product['rating']"
                   [class.is-invalid]="rating.invalid && rating.touched" ngModel required>
            <label for="quantity" style="font-size: 14px; ">Enter product rating</label>
          </div>
        </div>
        <div class="col-md-6 col-lg-6 col-xl-6">
          <div class="form-floating mb-3">
            <input name="memory" type="text" class="form-control" id="memory"
                   #memory="ngModel"
                   [(ngModel)]="product['memory']" ngModel>
            <label for="memory" style="font-size: 14px; ">Enter product memory</label>
          </div>
        </div>
        <div class="col-md-6 col-lg-6 col-xl-6">
          <div class="form-floating mb-3">
            <input name="storage" type="text" class="form-control" id="storage"
                   #storage="ngModel"
                   [(ngModel)]="product['storage']" ngModel>
            <label for="memory" style="font-size: 14px; ">Enter product storage</label>
          </div>
        </div>
        <div class="col-md-6 col-lg-6 col-xl-6">
          <div class="form-floating mb-3">
            <textarea style="font-size: 12px; min-height: 90px;max-height: 90px" name="description" class="form-control"
                      #description="ngModel"
                      id="description" rows="4" ngModel [(ngModel)]="product['description']"
                      [class.is-invalid]="description.invalid && description.touched" placeholder="Description"
                      required></textarea>
            <label for="quantity" style="font-size: 14px; ">Enter product description</label>
          </div>
        </div>
        <div class="col-md-12 col-lg-12 col-xl-12">
          <div class="form-floating mb-3">
            <textarea style="font-size: 12px; min-height: 90px;max-height: 90px" name="about" class="form-control"
                      #about="ngModel"
                      id="about" rows="4" ngModel [(ngModel)]="product['about']"
                      [class.is-invalid]="about.invalid && about.touched" placeholder="About item" required></textarea>
            <label for="about" style="font-size: 14px; ">About item</label>
          </div>
        </div>

      </div>
    </form>
  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-danger" [disabled]="listEditForm.form.invalid" (click)="edit(listEditForm)">
      Continue
    </button>
    <img class="justify-content-center text-center" style="margin-top: 15px; text-align: center" *ngIf="loadingEdit"
         src="data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA=="/>
  </div>
</ng-template>
<ng-template #contentCopy let-modal>
  <div class="modal-header">
    <h4 class="modal-title" id="modal-basic-titleee">Copy Product</h4>
    <button type="button" class="btn-close" aria-label="Close" (click)="modal.dismiss('Cross click')"></button>
  </div>
  <div class="modal-body">
    <form #listEditForm="ngForm">
      <div class="row">
        <div class="col-md-6 col-lg-6 col-xl-6">
          <div class="form-floating mb-3">
            <input name="name" type="text" class="form-control" id="name"
                   #name="ngModel"
                   [(ngModel)]="product['name']"
                   [class.is-invalid]="name.invalid && name.touched" ngModel required>
            <label for="name" style="font-size: 14px; ">Enter product name</label>
          </div>
        </div>
        <div class="col-md-6 col-lg-6 col-xl-6">
          <div class="form-floating mb-3">
            <select name="category" class="form-select" id="category"
                    aria-label="Floating label select example" #category="ngModel"
                    [class.is-invalid]="category.invalid && category.touched" ngModel
                    [(ngModel)]="product['category']" required (change)="onCategoryChange($event)">
              <option *ngFor="let item of categories" value="{{item.name}}">{{ item.name }}</option>
            </select>
            <label for="category" style="font-size: 14px; ">Enter product category</label>
          </div>
        </div>
        <div class="col-md-6 col-lg-6 col-xl-6">
          <div class="form-floating mb-3">
            <select name="subcategory" class="form-select" id="subcategory"
                    aria-label="Floating label select example" #subcategory="ngModel"
                    [class.is-invalid]="subcategory.invalid && subcategory.touched" ngModel
                    [(ngModel)]="product['subcategory']" required>
              <option *ngFor="let item of subcategories" value="{{item.name}}">{{ item.name }}</option>
            </select>
            <label for="subcategory" style="font-size: 14px;  ">Enter product sub category</label>
          </div>
        </div>
        <div class="col-md-6 col-lg-6 col-xl-6">
          <div class="form-floating mb-3">
            <select name="color" class="form-select" id="color"
                    aria-label="Floating label select example" #color="ngModel"
                    [class.is-invalid]="color.invalid && color.touched" ngModel
                    [(ngModel)]="product['color']" required>
              <option value="Red">Red</option>
              <option value="Blue">Blue</option>
              <option value="Green">Green</option>
              <option value="Yellow">Yellow</option>
              <option value="White">White</option>
              <option value="Grey">Grey</option>
              <option value="Black">Black</option>
              <option value="Mixed">Mixed</option>
              <option value="N/A">N/A</option>
            </select>
            <label for="name" style="font-size: 14px; ">Enter product colour</label>
          </div>
        </div>
        <div class="col-md-6 col-lg-6 col-xl-6">
          <div class="form-floating mb-3">
            <select name="brand" class="form-select" id="brand"
                    aria-label="Floating label select example" #brand="ngModel"
                    [class.is-invalid]="brand.invalid && brand.touched" ngModel
                    [(ngModel)]="product['brand']" required>
              <option value="Hp">Hp</option>
              <option value="Lenovo">Lenovo</option>
              <option value="Mac">Mac</option>
              <option value="N/A">N/A</option>
            </select>
            <label for="name" style="font-size: 14px; ">Enter product brand</label>
          </div>
        </div>
        <div class="col-md-6 col-lg-6 col-xl-6">
          <div class="form-floating mb-3">
            <input name="cost" type="number" class="form-control" id="cost"
                   #cost="ngModel"
                   [(ngModel)]="product['cost']"
                   [class.is-invalid]="cost.invalid && cost.touched" ngModel required>
            <label for="name" style="font-size: 14px; ">Enter product cost</label>
          </div>
        </div>
        <div class="col-md-6 col-lg-6 col-xl-6">
          <div class="form-floating mb-3">
            <input name="discount" type="number" class="form-control" id="discount"
                   #discount="ngModel"
                   [(ngModel)]="product['discount']"
                   [class.is-invalid]="discount.invalid && discount.touched" ngModel required>
            <label for="name" style="font-size: 14px; ">Enter discount</label>
          </div>
        </div>
        <div class="col-md-6 col-lg-6 col-xl-6">
          <div class="form-floating mb-3">
            <input name="quantity" type="number" class="form-control" id="quantity"
                   #quantity="ngModel"
                   [(ngModel)]="product['quantity']"
                   [class.is-invalid]="quantity.invalid && quantity.touched" ngModel required>
            <label for="quantity" style="font-size: 14px; ">Enter product quantity</label>
          </div>
        </div>
        <div class="col-md-6 col-lg-6 col-xl-6">
          <div class="form-floating mb-3">
            <input name="rating" type="number" class="form-control" id="rating"
                   #rating="ngModel"
                   [(ngModel)]="product['rating']"
                   [class.is-invalid]="rating.invalid && rating.touched" ngModel required>
            <label for="quantity" style="font-size: 14px; ">Enter product rating</label>
          </div>
        </div>
        <div class="col-md-6 col-lg-6 col-xl-6">
          <div class="form-floating mb-3">
            <input name="memory" type="text" class="form-control" id="memory"
                   #memory="ngModel"
                   [(ngModel)]="product['memory']" ngModel>
            <label for="memory" style="font-size: 14px; ">Enter product memory</label>
          </div>
        </div>
        <div class="col-md-6 col-lg-6 col-xl-6">
          <div class="form-floating mb-3">
            <input name="storage" type="text" class="form-control" id="storage"
                   #storage="ngModel"
                   [(ngModel)]="product['storage']" ngModel>
            <label for="memory" style="font-size: 14px; ">Enter product storage</label>
          </div>
        </div>
        <div class="col-md-6 col-lg-6 col-xl-6">
          <div class="form-floating mb-3">
            <textarea style="font-size: 12px; min-height: 90px;max-height: 90px" name="description" class="form-control"
                      #description="ngModel"
                      id="description" rows="4" ngModel [(ngModel)]="product['description']"
                      [class.is-invalid]="description.invalid && description.touched" placeholder="Description"
                      required></textarea>
            <label for="quantity" style="font-size: 14px; ">Enter product description</label>
          </div>
        </div>
        <div class="col-md-12 col-lg-12 col-xl-12">
          <div class="form-floating mb-3">
            <textarea style="font-size: 12px; min-height: 90px;max-height: 90px" name="about" class="form-control"
                      #about="ngModel"
                      id="about" rows="4" ngModel [(ngModel)]="product['about']"
                      [class.is-invalid]="about.invalid && about.touched" placeholder="About item" required></textarea>
            <label for="about" style="font-size: 14px; ">About item</label>
          </div>
        </div>

      </div>
    </form>
  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-danger" [disabled]="listEditForm.form.invalid" (click)="copy(listEditForm)">
      Continue
    </button>
    <img class="justify-content-center text-center" style="margin-top: 15px; text-align: center" *ngIf="loadingCopy"
         src="data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA=="/>
  </div>
</ng-template>
<ng-template #imagesContent let-modal>
  <div class="modal-header">
    <h4 class="modal-title" id="modal-basic-title">Upload Product Photos</h4>
    <button type="button" class="btn-close" aria-label="Close" (click)="modal.dismiss('Cross click')"></button>
  </div>
  <div class="modal-body">
    <form>
      <div class="container">
        <div class="row g-2">
          <div class="col-3 ">
            <div class="card p-2 h-100" [ngClass]="coverPhoto ? 'list-pic-col' : 'list-pic-col2'">
              <div *ngIf="coverPhoto;then uploadCover else defaultCover"></div>
              <ng-template #defaultCover>
                <img class=" img-responsive d-flex flex-column center-block d-block mx-auto"
                     src="https://kilakitu.co.ke/photo_thumbnail.png" style="width: 40px; height: 40px; margin-top: 0px; "
                     alt="Card image">
              </ng-template>
              <ng-template #uploadCover><img class="card-img-top h-100 object-fit-cover border rounded"
                                             [src]="coverPhotoImg" alt="Card image"></ng-template>
              <div class="card-img-overlay d-flex flex-column justify-content-end">
                <input #fileInputCover type="file" (change)="onChange(fileInputCover.files, 'cover')"
                       style="display:none"/>
                <button style="color: #666" [ngClass]="coverPhoto ? 'btn-outline-secondary' : 'btn-outline-danger'"
                        class="btn " (click)="fileInputCover.click()">Cover Photo
                </button>
              </div>
            </div>
          </div>
          <div class="col-3 ">
            <div class="card p-2 h-100" [ngClass]="photo1 ? 'list-pic-col' : 'list-pic-col2'">
              <div *ngIf="photo1;then uploadPhoto1 else defaultPhoto1"></div>
              <ng-template #defaultPhoto1>
                <img class=" img-responsive d-flex flex-column center-block d-block mx-auto"
                     src="https://kilakitu.co.ke/photo_thumbnail.png" style="width: 40px; height: 40px; margin-top: 0px"
                     alt="Card image">
              </ng-template>
              <ng-template #uploadPhoto1><img class="card-img-top h-100 object-fit-cover border rounded"
                                              [src]="photo1Img" alt="Card image"></ng-template>
              <div class="card-img-overlay d-flex flex-column justify-content-end">
                <input #fileInputPhoto1 type="file" (change)="onChange(fileInputPhoto1.files, 'photo1')"
                       style="display:none"/>
                <button style="color: #666" class="btn btn-outline-danger" (click)="fileInputPhoto1.click()">Photo 1
                </button>
              </div>
            </div>
          </div>
          <div class="col-3 ">
            <div class="card p-2 h-100" [ngClass]="photo2 ? 'list-pic-col' : 'list-pic-col2'">
              <div *ngIf="photo2;then uploadPhoto2 else defaultPhoto2"></div>
              <ng-template #defaultPhoto2>
                <img class=" img-responsive d-flex flex-column center-block d-block mx-auto"
                     src="https://kilakitu.co.ke/photo_thumbnail.png" style="width: 40px; height: 40px; margin-top: 0px"
                     alt="Card image">
              </ng-template>
              <ng-template #uploadPhoto2><img class="card-img-top h-100 object-fit-cover border rounded"
                                              [src]="photo2Img" alt="Card image"></ng-template>
              <div class="card-img-overlay d-flex flex-column justify-content-end">
                <input #fileInputPhoto2 type="file" (change)="onChange(fileInputPhoto2.files, 'photo2')"
                       style="display:none"/>
                <button style="color: #666" class="btn btn-outline-danger" (click)="fileInputPhoto2.click()">Photo 2
                </button>
              </div>
            </div>
          </div>
          <div class="col-3 ">
            <div class="card p-2 h-100" [ngClass]="photo3 ? 'list-pic-col' : 'list-pic-col2'">
              <div *ngIf="photo3;then uploadPhoto3 else defaultPhoto3"></div>
              <ng-template #defaultPhoto3>
                <img class=" img-responsive d-flex flex-column center-block d-block mx-auto"
                     src="https://kilakitu.co.ke/photo_thumbnail.png" style="width: 40px; height: 40px; margin-top: 0px"
                     alt="Card image">
              </ng-template>
              <ng-template #uploadPhoto3><img class="card-img-top h-100 object-fit-cover border rounded"
                                              [src]="photo3Img" alt="Card image"></ng-template>
              <div class="card-img-overlay d-flex flex-column justify-content-end">
                <input #fileInputPhoto3 type="file" (change)="onChange(fileInputPhoto3.files, 'photo3')"
                       style="display:none"/>
                <button style="color: #666" class="btn btn-outline-danger" (click)="fileInputPhoto3.click()">Photo 3
                </button>
              </div>
            </div>
          </div>
          <div class="col-3 ">
            <div class="card p-2 h-100" [ngClass]="photo4 ? 'list-pic-col' : 'list-pic-col2'">
              <div *ngIf="photo4;then uploadPhoto4 else defaultPhoto4"></div>
              <ng-template #defaultPhoto4>
                <img class=" img-responsive d-flex flex-column center-block d-block mx-auto"
                     src="https://kilakitu.co.ke/photo_thumbnail.png" style="width: 40px; height: 40px; margin-top: 0px"
                     alt="Card image">
              </ng-template>
              <ng-template #uploadPhoto4><img class="card-img-top h-100 object-fit-cover border rounded"
                                              [src]="photo4Img" alt="Card image"></ng-template>
              <div class="card-img-overlay d-flex flex-column justify-content-end">
                <input #fileInputPhoto4 type="file" (change)="onChange(fileInputPhoto4.files, 'photo4')"
                       style="display:none"/>
                <button style="color: #666" class="btn btn-outline-danger" (click)="fileInputPhoto4.click()">Photo 4
                </button>
              </div>
            </div>
          </div>
          <div class="col-3 ">
            <div class="card p-2 h-100" [ngClass]="photo5 ? 'list-pic-col' : 'list-pic-col2'">
              <div *ngIf="photo5;then uploadPhoto5 else defaultPhoto5"></div>
              <ng-template #defaultPhoto5>
                <img class=" img-responsive d-flex flex-column center-block d-block mx-auto"
                     src="https://kilakitu.co.ke/photo_thumbnail.png" style="width: 40px; height: 40px; margin-top: 0px"
                     alt="Card image">
              </ng-template>
              <ng-template #uploadPhoto5><img class="card-img-top h-100 object-fit-cover border rounded"
                                              [src]="photo5Img" alt="Card image"></ng-template>
              <div class="card-img-overlay d-flex flex-column justify-content-end">
                <input #fileInputPhoto5 type="file" (change)="onChange(fileInputPhoto5.files, 'photo5')"
                       style="display:none"/>
                <button style="color: #666" class="btn btn-outline-danger" (click)="fileInputPhoto5.click()">Photo 5
                </button>
              </div>
            </div>
          </div>
          <div class="col-3 ">
            <div class="card p-2 h-100" [ngClass]="photo6 ? 'list-pic-col' : 'list-pic-col2'">
              <div *ngIf="photo6;then uploadPhoto6 else defaultPhoto6"></div>
              <ng-template #defaultPhoto6>
                <img class=" img-responsive d-flex flex-column center-block d-block mx-auto"
                     src="https://kilakitu.co.ke/photo_thumbnail.png" style="width: 40px; height: 40px; margin-top: 0px"
                     alt="Card image">
              </ng-template>
              <ng-template #uploadPhoto6><img class="card-img-top h-100 object-fit-cover border rounded"
                                              [src]="photo6Img" alt="Card image"></ng-template>
              <div class="card-img-overlay d-flex flex-column justify-content-end">
                <input #fileInputPhoto6 type="file" (change)="onChange(fileInputPhoto6.files, 'photo6')"
                       style="display:none"/>
                <button style="color: #666" class="btn btn-outline-danger" (click)="fileInputPhoto6.click()">Photo 6
                </button>
              </div>
            </div>
          </div>
          <div class="col-3 ">
            <div class="card p-2 h-100" [ngClass]="photo7 ? 'list-pic-col' : 'list-pic-col2'">
              <div *ngIf="photo7;then uploadPhoto7 else defaultPhoto7"></div>
              <ng-template #defaultPhoto7>
                <img class=" img-responsive d-flex flex-column center-block d-block mx-auto"
                     src="https://kilakitu.co.ke/photo_thumbnail.png" style="width: 40px; height: 40px; margin-top: 0px"
                     alt="Card image">
              </ng-template>
              <ng-template #uploadPhoto7><img class="card-img-top h-100 object-fit-cover border rounded"
                                              [src]="photo7Img" alt="Card image"></ng-template>
              <div class="card-img-overlay d-flex flex-column justify-content-end">
                <input #fileInputPhoto7 type="file" (change)="onChange(fileInputPhoto7.files, 'photo7')"
                       style="display:none"/>
                <button style="color: #666" class="btn btn-outline-danger" (click)="fileInputPhoto7.click()">Photo 7
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>

    </form>
  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-danger" (click)="upload()">Submit</button>
    <img class="justify-content-center text-center" style="margin-top: 15px; text-align: center" *ngIf="loadingCreate"
         src="data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA=="/>
  </div>
</ng-template>
<ng-template #contentCreateList let-modal>
  <div class="modal-header">
    <h4 class="modal-title" id="modal-basic-listing-title">Create Listing</h4>
    <button type="button" class="btn-close" aria-label="Close" (click)="modal.dismiss('Cross click')"></button>
  </div>
  <div class="modal-body">
    <form #listForm="ngForm" (submit)="createListingForm(listForm)">
      <div class="row">
        <div class="col-md-6 col-lg-6 col-xl-6">
          <div class="form-floating mb-3">

            <input name="name" type="text" class="form-control" id="name"
                   #name="ngModel"
                   [class.is-invalid]="name.invalid && name.touched" ngModel required>
            <input name="userid" type="text" class="form-control" id="userid" placeholder="userid"
                   #userid="ngModel" ngModel>
            <label for="name" style="font-size: 14px; color: #000;">Name</label>
          </div>
        </div>
        <div class="col-md-6 col-lg-6 col-xl-6">
          <div class="form-floating mb-3">
            <input name="location" type="text" class="form-control" id="location"
                   #location="ngModel"
                   [class.is-invalid]="location.invalid && location.touched" ngModel required>
            <label for="name" style="font-size: 14px; color: #000;">Location</label>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-md-6 col-lg-6 col-xl-6">
          <div class="form-floating mb-3">
            <select name="category" class="form-select"
                    id="category" #category="ngModel" ngModel
                    aria-label="Floating label select example"
                    [class.is-invalid]="category.invalid && category.touched"
                    required>
              <option value="House">House</option>
              <option value="Bungalow">Bungalow</option>
              <option value="Maisonette">Maisonette</option>
              <option value="Apartment">Apartment</option>
              <option value="Bed and Breakfast">Bed & Breakfast</option>
            </select>
            <label for="category"
                   style="font-size: 14px; color: #000; font-family: 'Work Sans', sans-serif;">Category</label>
          </div>
        </div>
        <div class="col-md-6 col-lg-6 col-xl-6">
          <div class="form-floating mb-3">
            <select name="subcategory" class="form-select"
                    id="subcategory" #subcategory="ngModel" ngModel
                    aria-label="Floating label select example"
                    [class.is-invalid]="subcategory.invalid && subcategory.touched"
                    required>
              <option value="House">House</option>
              <option value="Bungalow">Bungalow</option>
              <option value="Maisonette">Maisonette</option>
              <option value="Apartment">Apartment</option>
              <option value="Bed and Breakfast">Bed & Breakfast</option>
            </select>
            <label for="category" style="font-size: 14px; color: #000; font-family: 'Work Sans', sans-serif;">Sub
              Category</label>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-md-6 col-lg-6 col-xl-6">
          <div class="form-floating mb-3">
            <input name="cost" type="text" class="form-control" id="cost"
                   #cost="ngModel"
                   [class.is-invalid]="cost.invalid && cost.touched" ngModel required>
            <label for="name" style="font-size: 14px; color: #000;">Cost</label>
          </div>
        </div>
      </div>
      <div class="row" style="margin-top: 0px">
        <div class="col">
      <textarea name="description" class="form-control" #description="ngModel"
                id="description" rows="4" ngModel
                [class.is-invalid]="description.invalid && description.touched" placeholder="Description"
                required></textarea>
        </div>
      </div>
      <div class="row" style="margin-top: 20px">
        <div class="col">
          <button type="submit" class="btn btn-danger pull-right" [disabled]="listForm.form.invalid"
                  style="text-transform: none; border-radius: 6px">Continue
          </button>
        </div>
      </div>
    </form>
  </div>
</ng-template>
<ng-template #contentPhotoSlider let-modal>
  <div class="modal-header" style="padding-bottom: 0 !important;">
    <h4 class="modal-title" id="contentPhotoSlider">{{ product.name }}</h4>
        <button style="margin-bottom: 7px !important;" type="button" class="btn-close" aria-label="Close" (click)="modal.dismiss('Cross click')"></button>
  </div>
  <div class="modal-body rounded" style="padding: 0 !important; margin: 0 !important;">
    <div id="myCarousel" class="carousel slide " data-ride="carousel" style="border: 1px red; ">
      <div class="carousel-inner">
        <div class="carousel-item active">
          <img src="https://kilakitu.co.ke/{{coverImageSlider}}"
               style="object-fit: contain;height: 100%;  width: 100%; height: 300px;" class="d-block"
               alt="First Slide">
          <div class="carousel-caption d-md-block">
            <button style="color: red" type="button" class="btn btn-outline-danger" (click)="changePhoto(coverImageSlider, coverImageSlider,0)">Edit
            </button>
          </div>
          <input #fileinput type="file" id="upload-file-active" (change)="onImageChangeSubmit(fileinput.files, coverImageSliderData, coverImageSlider, coverImageSliderId, 0)" style="display:none"/>
        </div>
        <div class="carousel-item" *ngFor="let item of thumbnails">
          <img src="https://kilakitu.co.ke/{{item.name}}"
               style="object-fit: contain;height: 100%;  width: 100%; height: 300px;" class="d-block" alt="First Slide">

          <div class="carousel-caption d-md-block">
            <button style="color: red" type="button" class="btn btn-outline-danger" (click)="changePhoto(item, item.name,1)">Edit
            </button>
          </div>
          <input #fileinput type="file" id="upload-file-item" (change)="onImageChangeSubmit(fileinput.files, item, item.name, coverImageSliderId, 1)" style="display:none"/>

        </div>
      </div>
      <a class="carousel-control-prev" href="#myCarousel" role="button" data-slide="prev">
        <span style="color: black !important;" class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="sr-only" style="color: black !important;">Previous</span>
      </a>
      <a class="carousel-control-next" href="#myCarousel" role="button" data-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="sr-only">Next</span>
      </a>
    </div>
  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-danger" (click)="modal.close('Save click')">Cancel</button>
  </div>
</ng-template>

<ng-template #listingStatus let-modal>
  <div class="modal-header">
    <h4 class="modal-title" id="modal-basic-title22">{{ listingStatusTitle }}</h4>
    <button type="button" class="btn-close" aria-label="Close" (click)="modal.dismiss('Cross click')"></button>
  </div>
  <div class="modal-body">
    <form>
      <div class="mb-3">
        <h3 style=" font-size: 18px">{{ product.name }}</h3>
        <h3 style="color: #666; font-size: 14px">{{ listingStatusContent }}</h3>
      </div>
    </form>
  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-danger" (click)="statusUpdate()">Update</button>
    <img class="justify-content-center text-center" style="margin-top: 15px; text-align: center" *ngIf="loadingPromote"
         src="data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA=="/>
  </div>
</ng-template>
<app-footer></app-footer>
